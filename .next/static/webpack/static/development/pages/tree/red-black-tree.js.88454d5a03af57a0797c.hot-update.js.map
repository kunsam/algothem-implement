{"version":3,"file":"static/webpack/static/development/pages/tree/red-black-tree.js.88454d5a03af57a0797c.hot-update.js","sources":["webpack:///./src/view/tree/animator/show-text-animator.ts"],"sourcesContent":["import * as THREE from 'three';\nimport AnimatorBase from \"./animator-base\";\nimport { RBNode } from \"../../../tree/red-black-tree\";\nimport FontManager from '../../font/font-manager';\n\nexport interface ShowTextAnimatorProps{\n  node: RBNode;\n  text: string;\n  mesh: THREE.Mesh;\n  duration?: number;\n  parameters?: THREE.TextGeometryParameters;\n}\n\nexport default class ShowTextAnimator extends AnimatorBase {\n\n  private _frame: number = 0;\n  private _textMesh?: THREE.Mesh;\n  private _props: ShowTextAnimatorProps;\n\n  public END_FRAME = 20;\n\n  constructor(props: ShowTextAnimatorProps) {\n    super(props.node);\n    this._props = props;\n    if (props.duration) {\n      this.END_FRAME = props.duration;\n    }\n  }\n  private _addText() {\n    if (this._textMesh) {\n      return;\n    }\n    const parameters = this._props.parameters || {};\n    const { height, size, font } = parameters;\n    const textGeo = new THREE.TextGeometry(this._props.text, {\n      height: height === undefined ? 0 : height,\n      size: size === undefined ? 20 : size,\n      font: font || FontManager.getFont('helv'),\n    });\n    const textMesh = new THREE.Mesh(\n      textGeo,\n      new THREE.MeshBasicMaterial({ color: 0x000000 })\n    );\n    textMesh.position.y += 20;\n    textMesh.position.x += 50;\n    this._textMesh = textMesh;\n    this._props.mesh.add(textMesh);\n  }\n\n  private _resetText() {\n    if (this._textMesh) {\n      this._props.mesh.remove(this._textMesh);\n    }\n  }\n\n  public animate() {\n    console.log(this._frame, 'this._animatorFlows')\n    if (this._frame < this.END_FRAME) {\n      this._frame++;\n      this._addText();\n      return true;\n    } else if (this._frame >= this.END_FRAME) {\n      this._resetText();\n    }\n    return false;\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AASA;;;;;AAQA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AACA;AADA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AANA;AAMA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;AApDA;AACA;;;;;A","sourceRoot":""}